/* generated from model Website */
/* generated by template cd2java.Interface*/

/* (c) https://github.com/MontiCore/monticore */

/* Hookpoint: InterfaceContent:addComment */

/* generated by template cd2java.Package*/
package de.monticore.gettingstarted.website._symboltable;


/* generated by template cd2java.Imports*/

import java.util.*;
import java.util.function.*;
import java.util.stream.Stream;
import de.se_rwth.commons.logging.Log;
import de.se_rwth.commons.SourcePosition;

import de.monticore.symboltable.*;


/* Hookpoint: InterfaceContent:Imports */

/* generated by template cd2java.Annotations*/
// empty template: no Annotation


/* Hookpoint: InterfaceContent:Annotations */

 public  interface IWebsiteScope extends de.monticore.literals.mccommonliterals._symboltable.IMCCommonLiteralsScope  { 
/* Hookpoint: InterfaceContent:Elements */


  /* generated by template cd2java.Method*/
 abstract  public  boolean isPageSymbolsAlreadyResolved ()

;
  /* generated by template cd2java.Method*/
 abstract  public  void setPageSymbolsAlreadyResolved (boolean symbolAlreadyResolved)

;
  default /* generated by template cd2java.Method*/
 public  Optional<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvePage (String name)

 {
    /* generated by template _symboltable.iscope.ResolveDelegate*/

  return getResolvedOrThrowException(resolvePageMany(name ));
}

  default /* generated by template cd2java.Method*/
 public  Optional<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvePage (String name,de.monticore.symboltable.modifiers.AccessModifier modifier)

 {
    /* generated by template _symboltable.iscope.ResolveDelegate*/

  return getResolvedOrThrowException(resolvePageMany(name, modifier ));
}

  default /* generated by template cd2java.Method*/
 public  Optional<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvePage (String name,de.monticore.symboltable.modifiers.AccessModifier modifier,java.util.function.Predicate<de.monticore.gettingstarted.website._symboltable.PageSymbol> predicate)

 {
    /* generated by template _symboltable.iscope.ResolveDelegate*/

  return getResolvedOrThrowException(resolvePageMany(name, modifier, predicate ));
}

  default /* generated by template cd2java.Method*/
 public  Optional<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvePage (boolean foundSymbols,String name,de.monticore.symboltable.modifiers.AccessModifier modifier)

 {
    /* generated by template _symboltable.iscope.ResolveDelegate*/

  return getResolvedOrThrowException(resolvePageMany(foundSymbols, name, modifier ));
}

  default /* generated by template cd2java.Method*/
 public  Optional<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvePageDown (String name)

 {
    /* generated by template _symboltable.iscope.ResolveDelegate*/

  return getResolvedOrThrowException(resolvePageDownMany(name ));
}

  default /* generated by template cd2java.Method*/
 public  Optional<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvePageDown (String name,de.monticore.symboltable.modifiers.AccessModifier modifier)

 {
    /* generated by template _symboltable.iscope.ResolveDelegate*/

  return getResolvedOrThrowException(resolvePageDownMany(name, modifier ));
}

  default /* generated by template cd2java.Method*/
 public  Optional<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvePageDown (String name,de.monticore.symboltable.modifiers.AccessModifier modifier,java.util.function.Predicate<de.monticore.gettingstarted.website._symboltable.PageSymbol> predicate)

 {
    /* generated by template _symboltable.iscope.ResolveDelegate*/

  return getResolvedOrThrowException(resolvePageDownMany(name, modifier, predicate ));
}

  default /* generated by template cd2java.Method*/
 public  List<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvePageDownMany (String name)

 {
    return this.resolvePageDownMany(false,name,de.monticore.symboltable.modifiers.AccessModifier.ALL_INCLUSION,x -> true);
}

  default /* generated by template cd2java.Method*/
 public  List<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvePageDownMany (String name,de.monticore.symboltable.modifiers.AccessModifier modifier)

 {
    return this.resolvePageDownMany(false,name,modifier,x -> true);
}

  default /* generated by template cd2java.Method*/
 public  List<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvePageDownMany (String name,de.monticore.symboltable.modifiers.AccessModifier modifier,java.util.function.Predicate<de.monticore.gettingstarted.website._symboltable.PageSymbol> predicate)

 {
    return this.resolvePageDownMany(false,name,modifier,predicate);
}

  default /* generated by template cd2java.Method*/
 public  List<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvePageDownMany (boolean foundSymbols,String name,de.monticore.symboltable.modifiers.AccessModifier modifier,java.util.function.Predicate<de.monticore.gettingstarted.website._symboltable.PageSymbol> predicate)

 {
    /* generated by template _symboltable.iscope.ResolveDownMany*/

  // skip resolution of the symbol, if the symbol has already been resolved in this scope instance
  // during the current execution of the resolution algorithm
  if (isPageSymbolsAlreadyResolved()) {
    return new ArrayList<>();
  }

  // (1) resolve symbol locally. During this, the 'already resolved' flag is set to true,
  // to prevent resolving cycles caused by cyclic symbol adapters
  setPageSymbolsAlreadyResolved(true);
  final List<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvedSymbols = this.resolvePageLocallyMany(foundSymbols, name, modifier, predicate);
  foundSymbols = foundSymbols || resolvedSymbols.size() > 0;
  setPageSymbolsAlreadyResolved(false);

  final String resolveCall = "resolveDownMany(\"" + name + "\", \"" + "PageSymbol"
    + "\") in scope \"" + (isPresentName() ? getName() : "") + "\"";
  Log.trace("START " + resolveCall + ". Found #" + resolvedSymbols.size() + " (local)", "");
  // If no matching symbols have been found...
  if (resolvedSymbols.isEmpty()) {
    // (2) Continue search in sub scopes and ...
    for (de.monticore.gettingstarted.website._symboltable.IWebsiteScope subScope : getSubScopes()) {
      final List<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvedFromSub = subScope
        .continueAsPageSubScope(foundSymbols, name, modifier, predicate);
      foundSymbols = foundSymbols || resolvedFromSub.size() > 0;
      // (3) unify results
      resolvedSymbols.addAll(resolvedFromSub);
    }
  }
  Log.trace("END " + resolveCall + ". Found #" + resolvedSymbols.size(), "");
  setPageSymbolsAlreadyResolved(false);
  return resolvedSymbols;
}

  default /* generated by template cd2java.Method*/
 public  Optional<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvePageLocally (String name)

 {
     return getResolvedOrThrowException(this.resolvePageLocallyMany(false,name,de.monticore.symboltable.modifiers.AccessModifier.ALL_INCLUSION,x -> true));
}

  default /* generated by template cd2java.Method*/
 public  List<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvePageLocallyMany (boolean foundSymbols,String name,de.monticore.symboltable.modifiers.AccessModifier modifier,java.util.function.Predicate<de.monticore.gettingstarted.website._symboltable.PageSymbol> predicate)

 {
    /* generated by template _symboltable.iscope.ResolveManyLocally*/

  final List<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvedSymbols = new ArrayList<>();

  try {
    Optional<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvedSymbol = filterPage(name, getPageSymbols());
    if (resolvedSymbol.isPresent()) {
      resolvedSymbols.add(resolvedSymbol.get());
    }
  } catch (de.monticore.symboltable.resolving.ResolvedSeveralEntriesForSymbolException e) {
    resolvedSymbols.addAll(e.getSymbols());
  }

  // add all symbols of sub kinds of the current kind
  resolvedSymbols.addAll(resolvePageSubKinds(foundSymbols, name, modifier, predicate));

  // filter out symbols that are not included within the access modifier
  List<de.monticore.gettingstarted.website._symboltable.PageSymbol> filteredSymbols = filterSymbolsByAccessModifier(modifier, resolvedSymbols);
  filteredSymbols = new ArrayList<>(filteredSymbols.stream().filter(predicate).collect(java.util.stream.Collectors.toList()));

  // if no symbols found try to find adapted one
  if (filteredSymbols.isEmpty()) {
    filteredSymbols.addAll(resolveAdaptedPageLocallyMany(foundSymbols, name, modifier, predicate));
    filteredSymbols = filterSymbolsByAccessModifier(modifier, filteredSymbols);
    filteredSymbols = new ArrayList<>(filteredSymbols.stream().filter(predicate).collect(java.util.stream.Collectors.toList()));
  }
  return filteredSymbols;
}

  /* generated by template cd2java.Method*/
 abstract  public  List<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvePageSubKinds (boolean foundSymbols,String name,de.monticore.symboltable.modifiers.AccessModifier modifier,java.util.function.Predicate<de.monticore.gettingstarted.website._symboltable.PageSymbol> predicate)

;
  default /* generated by template cd2java.Method*/
 public  List<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvePageMany (String name)

 {
    return this.resolvePageMany(name,de.monticore.symboltable.modifiers.AccessModifier.ALL_INCLUSION);
}

  default /* generated by template cd2java.Method*/
 public  List<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvePageMany (String name,de.monticore.symboltable.modifiers.AccessModifier modifier)

 {
    return this.resolvePageMany(name,modifier,x -> true);
}

  default /* generated by template cd2java.Method*/
 public  List<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvePageMany (String name,de.monticore.symboltable.modifiers.AccessModifier modifier,java.util.function.Predicate<de.monticore.gettingstarted.website._symboltable.PageSymbol> predicate)

 {
    return this.resolvePageMany(false,name,modifier,predicate);
}

  default /* generated by template cd2java.Method*/
 public  List<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvePageMany (String name,java.util.function.Predicate<de.monticore.gettingstarted.website._symboltable.PageSymbol> predicate)

 {
    return this.resolvePageMany(false,name,de.monticore.symboltable.modifiers.AccessModifier.ALL_INCLUSION,predicate);
}

  default /* generated by template cd2java.Method*/
 public  List<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvePageMany (boolean foundSymbols,String name,de.monticore.symboltable.modifiers.AccessModifier modifier)

 {
    return this.resolvePageMany(foundSymbols,name,modifier,x -> true);
}

  default /* generated by template cd2java.Method*/
 public  List<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvePageMany (boolean foundSymbols,String name,de.monticore.symboltable.modifiers.AccessModifier modifier,java.util.function.Predicate<de.monticore.gettingstarted.website._symboltable.PageSymbol> predicate)

 {
    /* generated by template _symboltable.iscope.ResolveMany4IScope*/

  // skip resolution of the symbol, if the symbol has already been resolved in this scope instance
  // during the current execution of the resolution algorithm
  if (isPageSymbolsAlreadyResolved()) {
    return new ArrayList<>();
  }

  // (1) resolve symbol locally. During this, the 'already resolved' flag is set to true,
  // to prevent resolving cycles caused by cyclic symbol adapters
  setPageSymbolsAlreadyResolved(true);
  final List<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvedSymbols = this.resolvePageLocallyMany(foundSymbols, name, modifier, predicate);
  foundSymbols = foundSymbols | resolvedSymbols.size() > 0;
  setPageSymbolsAlreadyResolved(false);

  final String resolveCall = "resolveMany(\"" + name + "\", \"" + "PageSymbol"
  + "\") in scope \"" + (isPresentName() ? getName() : "") + "\"";
  Log.trace("START " + resolveCall + ". Found #" + resolvedSymbols.size() + " (local)", "");

  // (2) continue with enclosingScope, if either no symbol has been found yet or this scope is non-shadowing
  final List<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvedFromEnclosing = continuePageWithEnclosingScope(foundSymbols, name, modifier, predicate);

  // (3) unify results
  resolvedSymbols.addAll(resolvedFromEnclosing);
  Log.trace("END " + resolveCall + ". Found #" + resolvedSymbols.size(), "");

  return resolvedSymbols;
}

  default /* generated by template cd2java.Method*/
 public  List<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolveAdaptedPageLocallyMany (boolean foundSymbols,String name,de.monticore.symboltable.modifiers.AccessModifier modifier,java.util.function.Predicate<de.monticore.gettingstarted.website._symboltable.PageSymbol> predicate)

 {
    return new java.util.ArrayList<>();
}

  default /* generated by template cd2java.Method*/
 public  Optional<de.monticore.gettingstarted.website._symboltable.PageSymbol> filterPage (String name,com.google.common.collect.LinkedListMultimap<String,de.monticore.gettingstarted.website._symboltable.PageSymbol> symbols)

 {
    /* generated by template _symboltable.iscope.Filter*/

  final Set<de.monticore.gettingstarted.website._symboltable.PageSymbol> resolvedSymbols = new LinkedHashSet<>();

  final String simpleName = de.se_rwth.commons.Names.getSimpleName(name);

  if (symbols.containsKey(simpleName)) {
    for (de.monticore.gettingstarted.website._symboltable.PageSymbol symbol : symbols.get(simpleName)) {
      if (symbol.getName().equals(name) || symbol.getFullName().equals(name)) {
        resolvedSymbols.add(symbol);
      }
    }
  }

  return getResolvedOrThrowException(resolvedSymbols);
}

  default /* generated by template cd2java.Method*/
 public  List<de.monticore.gettingstarted.website._symboltable.PageSymbol> continuePageWithEnclosingScope (boolean foundSymbols,String name,de.monticore.symboltable.modifiers.AccessModifier modifier,java.util.function.Predicate<de.monticore.gettingstarted.website._symboltable.PageSymbol> predicate)

 {
    /* generated by template _symboltable.iscope.ContinueWithEnclosingScope4IScope*/

if (checkIfContinueWithEnclosingScope(foundSymbols) && (getEnclosingScope() != null)) {
    return getEnclosingScope().resolvePageMany(foundSymbols, name, modifier, predicate);
  }
  return new ArrayList<>();
}

  default /* generated by template cd2java.Method*/
 public  List<de.monticore.gettingstarted.website._symboltable.PageSymbol> continueAsPageSubScope (boolean foundSymbols,String name,de.monticore.symboltable.modifiers.AccessModifier modifier,java.util.function.Predicate<de.monticore.gettingstarted.website._symboltable.PageSymbol> predicate)

 {
    /* generated by template _symboltable.iscope.ContinueAsSubScope*/

  List<PageSymbol> resultList = new ArrayList<>();
  setPageSymbolsAlreadyResolved(false);
  if (checkIfContinueAsSubScope(name)) {
    for(String remainingSymbolName: getRemainingNameForResolveDown(name)) {
      resultList.addAll(this.resolvePageDownMany(foundSymbols, remainingSymbolName, modifier, predicate));
    }
  }
  return resultList;
}

  /* generated by template cd2java.Method*/
 abstract  public  com.google.common.collect.LinkedListMultimap<String,de.monticore.gettingstarted.website._symboltable.PageSymbol> getPageSymbols ()

;
  default /* generated by template cd2java.Method*/
 public  List<de.monticore.gettingstarted.website._symboltable.PageSymbol> getLocalPageSymbols ()

 {
    return getPageSymbols().values();
}

  /* generated by template cd2java.Method*/
 abstract  public  void add (de.monticore.gettingstarted.website._symboltable.PageSymbol symbol)

;
  /* generated by template cd2java.Method*/
 abstract  public  void remove (de.monticore.gettingstarted.website._symboltable.PageSymbol symbol)

;
  /* generated by template cd2java.Method*/
 abstract  public  List<? extends IWebsiteScope> getSubScopes ()

;
  default /* generated by template cd2java.Method*/
 public  void addSubScope (IWebsiteScope subScope)

 {
    Log.error("0xA7014x95822 The method \"addSubScope\" of interface \"IWebsiteScope\" is not implemented.");
}

  default /* generated by template cd2java.Method*/
 public  void removeSubScope (IWebsiteScope subScope)

 {
    Log.error("0xA7013x94657 The method \"removeSubScope\" of interface \"IWebsiteScope\" is not implemented.");
}

  /* generated by template cd2java.Method*/
 abstract  public  IWebsiteScope getEnclosingScope ()

;
  /* generated by template cd2java.Method*/
 abstract  public  void setEnclosingScope (IWebsiteScope enclosingScope)

;
  /* generated by template cd2java.Method*/
 abstract  public  void accept (de.monticore.gettingstarted.website._visitor.WebsiteTraverser visitor)

;
  default /* generated by template cd2java.Method*/
 public  int getSymbolsSize ()

 {
    /* generated by template _symboltable.iscope.GetSymbolSize*/


Set<ISymbol> allSymbols = new HashSet<>();
    allSymbols.addAll(getPageSymbols().values());
return allSymbols.size();
}

}
