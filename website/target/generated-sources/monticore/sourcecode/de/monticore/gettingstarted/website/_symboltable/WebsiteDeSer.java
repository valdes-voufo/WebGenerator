/* generated from model Website */
/* generated by template cd2java.Class*/

/* (c) https://github.com/MontiCore/monticore */

/* Hookpoint: ClassContent:addComment */

/* generated by template cd2java.Package*/
package de.monticore.gettingstarted.website._symboltable;


/* generated by template cd2java.Imports*/

import java.util.*;
import java.util.function.*;
import java.util.stream.Stream;
import de.se_rwth.commons.logging.Log;
import de.se_rwth.commons.SourcePosition;

import de.monticore.symboltable.*;
import de.monticore.symboltable.serialization.*;


/* Hookpoint: ClassContent:Imports */

/* generated by template cd2java.Annotations*/
// empty template: no Annotation


/* Hookpoint: ClassContent:Annotations */

 public  class WebsiteDeSer  implements de.monticore.symboltable.serialization.IDeSer<de.monticore.gettingstarted.website._symboltable.IWebsiteScope, de.monticore.gettingstarted.website._symboltable.IWebsiteArtifactScope, de.monticore.gettingstarted.website._symboltable.WebsiteSymbols2Json> {

/* Hookpoint: ClassContent:Elements */



    /* generated by template cd2java.Method*/
 public  String serialize (de.monticore.gettingstarted.website._symboltable.IWebsiteScope toSerialize,de.monticore.gettingstarted.website._symboltable.WebsiteSymbols2Json s2j)

 {
    /* generated by template _symboltable.serialization.scopeDeSer.SerializeS2J4ScopeDeSer*/

  de.monticore.symboltable.serialization.JsonPrinter printer = s2j.getJsonPrinter();
  printer.member(de.monticore.symboltable.serialization.JsonDeSers.IS_SHADOWING_SCOPE, toSerialize.isShadowing());
  return printer.toString();

}

    /* generated by template cd2java.Method*/
 public  String serialize (de.monticore.gettingstarted.website._symboltable.IWebsiteArtifactScope toSerialize,de.monticore.gettingstarted.website._symboltable.WebsiteSymbols2Json s2j)

 {
    /* generated by template _symboltable.serialization.scopeDeSer.SerializeAS4ScopeDeSer*/

  de.monticore.symboltable.serialization.JsonPrinter printer = s2j.getJsonPrinter();
  printer.member("generated-using","www.MontiCore.de technology");
  if(toSerialize.isPresentName()) {
    printer.member(de.monticore.symboltable.serialization.JsonDeSers.NAME, toSerialize.getName());
  }
  if(!toSerialize.getPackageName().isEmpty()) {
    printer.member(de.monticore.symboltable.serialization.JsonDeSers.PACKAGE, toSerialize.getPackageName());
  }
  return printer.toString();

}

    /* generated by template cd2java.Method*/
 public  void serializeAddons (de.monticore.gettingstarted.website._symboltable.IWebsiteScope toSerialize,de.monticore.gettingstarted.website._symboltable.WebsiteSymbols2Json s2j)

 {
    /* generated by template cd2java.EmptyBody*/
// empty body

}

    /* generated by template cd2java.Method*/
 public  void serializeAddons (de.monticore.gettingstarted.website._symboltable.IWebsiteArtifactScope toSerialize,de.monticore.gettingstarted.website._symboltable.WebsiteSymbols2Json s2j)

 {
    /* generated by template cd2java.EmptyBody*/
// empty body

}

    /* generated by template cd2java.Method*/
 public  de.monticore.gettingstarted.website._symboltable.IWebsiteScope deserializeScope (de.monticore.symboltable.serialization.json.JsonObject scopeJson)

 {
    /* generated by template _symboltable.serialization.scopeDeSer.DeserializeScope*/

  boolean isShadowingScope = scopeJson
      .getBooleanMemberOpt(de.monticore.symboltable.serialization.JsonDeSers.IS_SHADOWING_SCOPE)
      .orElse(false);
  de.monticore.gettingstarted.website._symboltable.IWebsiteScope scope = de.monticore.gettingstarted.website.WebsiteMill.scope();
  scope.setShadowing(isShadowingScope);
  scope.setExportingSymbols(true);


  deserializeAddons(scope,scopeJson);
  deserializeSymbols(scope, scopeJson);
  return scope;
}

    /* generated by template cd2java.Method*/
 public  de.monticore.gettingstarted.website._symboltable.IWebsiteArtifactScope deserializeArtifactScope (de.monticore.symboltable.serialization.json.JsonObject scopeJson)

 {
    /* generated by template _symboltable.serialization.scopeDeSer.DeserializeArtifactScope*/

  de.monticore.gettingstarted.website._symboltable.IWebsiteArtifactScope scope = de.monticore.gettingstarted.website.WebsiteMill.artifactScope();
  scope.setPackageName(de.monticore.symboltable.serialization.JsonDeSers.getPackage(scopeJson));
  if (scopeJson.hasStringMember(de.monticore.symboltable.serialization.JsonDeSers.NAME)) {
    scope.setName(scopeJson.getStringMember(de.monticore.symboltable.serialization.JsonDeSers.NAME));
  }
  scope.setExportingSymbols(true);


  deserializeAddons(scope,scopeJson);
  deserializeSymbols(scope, scopeJson);
  return scope;
}

    /* generated by template cd2java.Method*/
 protected  void deserializeSymbols (de.monticore.gettingstarted.website._symboltable.IWebsiteScope scope,de.monticore.symboltable.serialization.json.JsonObject scopeJson)

 {
    /* generated by template _symboltable.serialization.scopeDeSer.DeserializeSymbols*/


  for (de.monticore.symboltable.serialization.json.JsonObject symbol :
      de.monticore.symboltable.serialization.JsonDeSers.getSymbols(scopeJson)) {
    Optional<String> kind = de.monticore.symboltable.serialization.JsonDeSers.getKindOpt(symbol);

    if (!kind.isPresent()) {
      Log.error("0xA1238 Serialized object does not have a kind attribute: '" + symbol + "'.");
      continue;
    }

    de.monticore.symboltable.serialization.ISymbolDeSer deSer = de.monticore.gettingstarted.website.WebsiteMill.globalScope().getSymbolDeSer(kind.get());

    if (null == deSer) {
      Log.debug(
        "0xA1234xx81662 No DeSer found to deserialize symbol of kind `" + kind
        + "`. Falling back to default for symbols of unknown kinds.",
        WebsiteDeSer.class.getName()
      );

      deSer = new SymbolWithScopeOfUnknownKindDeSer(this, de.monticore.gettingstarted.website.WebsiteMill::scope);
      SymbolWithScopeOfUnknownKind s0 = (SymbolWithScopeOfUnknownKind) deSer.deserialize(symbol);
      scope.add(s0);
      scope.addSubScope((de.monticore.gettingstarted.website._symboltable.IWebsiteScope) s0.getSpannedScope());
    }
  else if ("de.monticore.gettingstarted.website._symboltable.PageSymbol".equals(kind)
        || "de.monticore.gettingstarted.website._symboltable.PageSymbol".equals(deSer.getSerializedKind())) {
      de.monticore.gettingstarted.website._symboltable.PageSymbol s0 = (de.monticore.gettingstarted.website._symboltable.PageSymbol) deSer.deserialize(symbol);
      scope.add(s0);
    }
    else {
      Log.warn("0xA1634xx09449 Unable to integrate deserialization with DeSer for kind `" + kind
        + "`. The following will be ignored: " + symbol);
    }
  }

}

    /* generated by template cd2java.Method*/
 public  void deserializeAddons (de.monticore.gettingstarted.website._symboltable.IWebsiteScope scope,de.monticore.symboltable.serialization.json.JsonObject scopeJson)

 {
    /* generated by template cd2java.EmptyBody*/
// empty body

}

    /* generated by template cd2java.Method*/
 public  void deserializeAddons (de.monticore.gettingstarted.website._symboltable.IWebsiteArtifactScope scope,de.monticore.symboltable.serialization.json.JsonObject scopeJson)

 {
    /* generated by template cd2java.EmptyBody*/
// empty body

}


}


